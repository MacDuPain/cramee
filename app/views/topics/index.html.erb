<% content_for :title, "Forum" %>
<main>
  <h1 class="text-center my-4">Forum</h1>
  <p class="topic-content text-center my-4">La réponse à votre question est peut-être ici !</p>

  <% if user_signed_in? %>
    <%= link_to 'Ajouter un Topic', new_topic_path, class: "custom-submit-button mb-4" %>
  <% else %>
    <%= link_to 'Connectez-vous pour ajouter un topic', new_user_session_path, class: "custom-link mb-4" %>
  <% end %>
  <div class="topics-container">
    <% @topics.each_with_index do |topic, index| %>
          <h2 class="card-title"><%= link_to topic.title, topic %></h2>
          <p class="topic-meta">Auteur: <%= topic.user.email %></p>
          <p class="topic-meta">Date de publication: <%= topic.created_at.strftime("%d/%m/%Y") %></p>
          <p class="topic-meta">Catégorie: <%= topic.topic_tags.map(&:name).join(", ") %></p>
      <% if index < @topics.length - 1 %>
        <div class="custom-line mb-4"></div>
      <% end %>
    <% end %>
  </div><br>


  <%= link_to 'Revenir à l\'accueil', root_path, class: "custom-link" %>
</main>